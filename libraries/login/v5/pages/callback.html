<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登陆中间件 回调函数</title>
    <!--
        由于小程序码自动生成逻辑的引入，为了避免污染生产环境的小程序 AccessToken 缓存逻辑，需要在此处判断运行环境并引入对应的模块。
    -->
    <script>
        var chaosLoginModuleJS = document.createElement("script");
        chaosLoginModuleJS.type = "text/javascript";
        chaosLoginModuleJS.setAttribute("data-type", "callback");
        if (window.location.protocol === "https:") {
            chaosLoginModuleJS.setAttribute("data-id", "1");
            chaosLoginModuleJS.src = "https://statics.jilinoffcn.com/libraries/login/v5/main.min.js";
        } else {
            chaosLoginModuleJS.setAttribute("data-id", "10001");
            chaosLoginModuleJS.src = "../main.min.js";
        }
        document.getElementsByTagName("head")[0].appendChild(chaosLoginModuleJS);
    </script>
    <style>.chaos-v5-wechat-mp-link {color: red;}</style>
</head>

<body>
    <button>测试回调函数</button>
    <script>
        document.getElementsByTagName("button")[0].addEventListener("click", function () {
            if (typeof Chaos === "object" && typeof Chaos.Hooks.Login === "function") {
                Chaos.Hooks.Login(function(phone){
                    alert("您已登陆, 使用的手机号码是 : " + phone)
                })
            } else {
                alert("正在努力加载中，请稍后再试～")
            }
        })
    </script>
    <br>
    <a class="chaos-v5-link" href="http://19.offcn.com/class-78723/" target="_blank">19 课堂 个人后缀 链接 填充测试</a>
    <br>
    <a class="chaos-v5-link" href="http://jl.offcn.com/zg/lydlhz/" target="_blank">专题 个人后缀 链接 填充测试</a>
    <br>
    <img class="chaos-v5-image" src="./path/cBlzJ8.jpg" alt="个人后缀 图片 自动填充">
    <div class="chaos-v5-ntalker">小能咨询测试 可以使用任意类型的标签</div>
    <img class="chaos-v5-wechat-mp-qr-code" data-appid="wxc431ae4dffa2a8a3" data-page="pages/event-20200918/index" alt="个人后缀微信小程序码" src="https://statics.jilinoffcn.com/libraries/login/v5/pages/loading.jpg">
    <br>
    <b style="color:red;">特别注意：<br>无论是直接使用 img 标签还是在内部嵌套 img 标签, 都需要使用绝对路径。<br>由于移动端微信浏览器端使用了 ShadowRoot + iFrame 技术覆盖 Dom 中的 Template + DocumentFragment, 套用了跳转的标签及下级标签的样式 必须使用 内联样式！</b>
    <br>
    <img class="chaos-v5-wechat-mp-link" data-mp-username="gh_a9b532feb4cb" data-appid="wxc431ae4dffa2a8a3" data-page="pages/event-20200918/index" alt="个人后缀微信小程序链接" src="http://test.statics.jilinoffcn.com/libraries/login/v5/pages/chaos-v5-wechat-mp-link.jpg">
    <br>
    <div class="chaos-v5-wechat-mp-link" data-mp-username="gh_a9b532feb4cb" data-appid="wxc431ae4dffa2a8a3" data-page="pages/event-20200918/index">OFFCN考试助手 个人后缀 微信小程序链接 测试 可以使用任意类型的标签 [ PC 端 / 移动端浏览器中, 本文字为红色 ( class 的样式生效 ); 移动端微信浏览器中, 本文字为黑色 ( class 的样式失效 ) ; ]</div>
    <br>
    <div class="chaos-v5-wechat-mp-link" data-mp-username="gh_146c7fa5a832" data-appid="wx5e256375813b119f" data-page="pages/header/index">中公考试助手 个人后缀 微信小程序链接 测试 可以使用任意类型的标签 [ PC 端 / 移动端浏览器中, 本文字为红色 ( class 的样式生效 ); 移动端微信浏览器中, 本文字为黑色 ( class 的样式失效 ) ; ]</div>
    <br>
    <table border="1">
        <tr>
            <th colspan="4" >可用小程序配置表</th>
        </tr>
        <tr>
            <th>小程序名称</th>
            <th>data-mp-username</th>
            <th>data-appid</th>
            <th>data-page</th>
        </tr>
        <tr>
            <td>齐趣堂</td>
            <td>gh_d52ad864c617</td>
            <td>wxf3103d96fec4f9b5</td>
            <td>填写实际页面路径</td>
        </tr>
        <tr>
            <td>OFFCN考试助手</td>
            <td>gh_a9b532feb4cb</td>
            <td>wxc431ae4dffa2a8a3</td>
            <td>填写实际页面路径</td>
        </tr>
        <tr>
            <td>中公考试助手</td>
            <td>gh_146c7fa5a832</td>
            <td>wx5e256375813b119f</td>
            <td>填写实际页面路径</td>
        </tr>
    </table>
</body>

</html>